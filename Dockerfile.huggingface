# Use the pre-built image
FROM ghcr.io/Xerxes-2/clewdr:latest

# Set environment variables for Hugging Face deployment
# Use PORT env var from Hugging Face or default to 7860
ENV CLEWDR_IP=0.0.0.0
ENV CLEWDR_PORT=${PORT:-7860}

# Expose the port that Hugging Face expects
EXPOSE ${PORT:-7860}

# Configure volume for logs
VOLUME ["/app/log"]

# Start the application
CMD ["./clewdr"]
